---
layout: post
title: Improved UBC Transcript
permalink: posts/improved-ubc-transcript
---

<h1>What it does:</h1>
<p>
Beautifies the lacking unofficial UBC transcript with extra information and better formatting.
</p>
<h1>How it does this:</h1>
<p>It does this in several ways:</p>
<ul>
    <li>Adding a course names columns</li>
    <li>Removing unnecessary widgets</li>
    <li>Spacing items out better and increasing the width of the table </li>
    <li>Allow you to manually edit course names</li>
    <li>Optionally allow you to remove unnecessary columns + rows</li>
</ul>

<h1>Instructions</h1>
<ol class="with-bullets">
    <li>
        <p>Ensure <a class="colour-link" href="https://arashout.pythonanywhere.com/">this page</a> is online (Won't work otherwise) </p>
        <p>NOTE: This bookmarklet works best with Google Chrome and hasn't been tested with other browsers!</p>
    </li>
    <li>
        <p>Drag --><a class="colour-link" href="javascript:(function()%7B"use strict"%3Bfunction hashFnv32a(a,b%3D2166136261)%7Blet c%3Db%3Bfor(let d%3D0,e%3Da.length%3Bd<e%3Bd%2B%2B)c%5E%3Da.charCodeAt(d),c%2B%3D(c<<1)%2B(c<<4)%2B(c<<7)%2B(c<<8)%2B(c<<24)%3Breturn("0000000"%2B(c>>>0).toString(16)).substr(-8)%7Dconst VERSION%3D"1.2",VERSION_KEY%3D"version_key",DIGEST_KEY%3D"digest_key",URL_SOURCE%3D"http://arashout.site/posts/improved-ubc-transcript",COL_INDEX_RETRIEVAL%3DObject.freeze(%7BCOURSE_CODE:0,LETTER_GRADE:3%7D),COL_INDEX_REMOVAL%3DObject.freeze(%7BSECTION:1,STANDING:10%7D),BIT_FLAGS%3DObject.freeze(%7BKEEP_NO_GRADE_ROW:1,KEEP_SECTION_COLUMN:2,KEEP_STANDING_COLUMN:4%7D)%3Bfunction replaceNbsps(a)%7Bconst b%3D//g%3Breturn a.replace(b,"")%7Dfunction formatGradeSummary(a)%7B%5B"%23UbcHeaderWrapper","%23UbcBottomInfoWrapper","%23UbcUtilNavWrapper"%5D.forEach(function(b)%7Bdocument.querySelector(b).remove()%7D),%5B"%23calculator_title","%23calculator_title_text",".ui-tabs-nav"%5D.forEach(function(b)%7Ba.querySelector(b).remove()%7D),a.querySelector("h1").setAttribute("style","margin:10px 0 -20px 70px%3B"),a.querySelector("%23header-invisible img").setAttribute("style","margin-bottom: 15px%3B"),a.querySelector("%23tabs").setAttribute("style","margin: 0px auto%3B width:800px")%7Dfunction getUserChoice(a)%7Breturn%7BremoveNoGradeRow:!(a%26BIT_FLAGS.KEEP_NO_GRADE_ROW),removeSectionColumn:!(a%26BIT_FLAGS.KEEP_SECTION_COLUMN),removeStandingColumn:!(a%26BIT_FLAGS.KEEP_STANDING_COLUMN)%7D%7Dconst iframe%3Ddocument.querySelector("%23iframe-main").contentWindow.document%3BformatGradeSummary(iframe)%3Bconst tableElement%3Diframe.querySelector("%23allSessionsGrades"),tableBody%3DtableElement.children%5B0%5D,tableRows%3DtableBody.children%3Blet courseList%3D%5B%5D%3Bconst promptMessage%3D%60 001:Keep courses with no grades%5Cn 010:Keep the section column%5Cn 100:Keep the standing column%5Cn 0:Default behaviour(Remove all clutter)%5Cn e.g Type 011 to enable the first 2 options %60,bitmaskString%3Dprompt(promptMessage,"0"),bitmask%3DparseInt(bitmaskString,2),userChoice%3DgetUserChoice(bitmask)%3Bfor(let a%3DtableRows.length-1%3B0<%3Da%3Ba--)%7Bconst b%3DtableRows%5Ba%5D,c%3Db.children%5BCOL_INDEX_RETRIEVAL.LETTER_GRADE%5D,d%3Dc.innerText%3Bif(userChoice.removeNoGradeRow%26%26""%3D%3D%3Dd)%7BtableBody.removeChild(b)%3Bcontinue%7Dconst e%3Db.children%5BCOL_INDEX_RETRIEVAL.COURSE_CODE%5D,f%3DreplaceNbsps(e.innerText)%3B""!%3D%3Df%26%26"Course"!%3D%3Df%26%26courseList.push(f),userChoice.removeStandingColumn%26%26b.removeChild(b.children%5BCOL_INDEX_REMOVAL.STANDING%5D),userChoice.removeSectionColumn%26%26b.removeChild(b.children%5BCOL_INDEX_REMOVAL.SECTION%5D)%3Blet g%3Db.insertCell(1)%3Bg.style.textAlign%3D"center",0%3D%3D%3Da%3F(g.innerText%3D"Course Name",g.classList.add("listHeader")):(g.id%3Df,g.classList.add("listRow"))%7Dlet queryString%3D""%3Bfor(let a%3D0%3Ba<courseList.length%3Ba%2B%2B)%7Bconst b%3DcourseList%5Ba%5D%3BqueryString%2B%3D%60c%24%7Ba%7D%3D%24%7Bb%7D%26%60%7DqueryString%2B%3D%60%24%7BVERSION_KEY%7D%3D%24%7BVERSION%7D%26%60%3Bconst digest%3DhashFnv32a(courseList.join())%3BqueryString%2B%3D%60%24%7BDIGEST_KEY%7D%3D%24%7Bdigest%7D%60%3Bconst apiEndpoint%3D"https://arashout.pythonanywhere.com/courses",completeURL%3DapiEndpoint%2B"%3F"%2BqueryString%3Bfetch(completeURL,%7Bmethod:"GET",headers:%7BAccept:"application/json, text/plain, */*","Content-Type":"application/json"%7D,mode:"cors"%7D).then(a%3D>%7Breturn a.json()%7D).catch(a%3D>%7Bconsole.log(a)%7D).then(a%3D>%7Ba%5BVERSION_KEY%5D!%3D%3DVERSION%26%26alert(%60 You do not have the latest version of the bookmarklet which means it may not work properly or you may be missing new features.%5Cn Get the latest version from:%5Cn%24%7BURL_SOURCE%7D%5Cn%5Cn Version:%24%7BVERSION%7D%5CtNewest Version:%24%7Ba%5BVERSION_KEY%5D%7D%60),courseList.forEach(b%3D>%7Bconst c%3Diframe.getElementById(b)%3Bc.contentEditable%3D"true",c.innerText%3Da%5Bb%5D%7D)%7D)%3B%7D)()%3B">UBCBeautifier</a> onto your bookmarks bar</p>
    </li>
    <li>
        <p>
        Navigate to the <a class="colour-link" href="https://ssc.adm.ubc.ca/sscportal/servlets/SRVSSCFramework?function=SessGradeRpt">SSC grades page</a>
        </p>
    </li>
    <li>
        <p>
        Click on the bookmark to run it
        </p>
    </li>
</ol>

<h5>
    Source Code: 
    <a href='https://github.com/arashout/ubcapi' title='Improved Transcript Github Source'>
        <span class='fa-stack fa'>
        <i class='fa fa-circle fa-stack-2x'></i>
        <i class='fa fa-github fa-stack-1x fa-inverse'></i>
        </span>
    </a>
</h5>
